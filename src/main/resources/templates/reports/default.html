<!DOCTYPE html>
<html lang="fr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<title>repport</title>
<script>
    function updateFormAction() {
        var form = document.getElementById('addStudentForm');
        var select = document.getElementById('rapport');
        var selectedValue = select.value;

        if (selectedValue) {
            form.action = '/excels/' + selectedValue;
        }
    }
</script>
<head th:insert="fragments/fragment::head"></head>
</head>
<body>
<div class="sidebar" th:insert="~{fragments/fragment::sidebar(schoolName=${schoolName})}"></div>

<div class="main-content">
    <main>
        <h2>Rapport</h2>
        <form id="addStudentForm" method="post">
            <div class="form-row">
            </div>
            <div class="form-row">
                <select id="rapport" required onchange="updateFormAction()">
                    <option value="">Sélectionner une option</option>
                    <option value="students">Liste des élèves</option>
                    <option value="teachers">Liste des professeurs</option>
                </select>
                <button type="button" class="btn-cancel" onclick="updateFormAction()">Générer format PDF</button>
                <button type="submit" class="btn-save">Générer format Excel</button>
            </div>
        </form>
    </main>
</div>
<th:block th:insert="fragments/fragment::gender"></th:block>
<th:block th:insert="fragments/fragment::modal"></th:block>
</body>
</html>